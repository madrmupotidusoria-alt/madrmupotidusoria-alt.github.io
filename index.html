<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCANORA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-cyan: #00ffff;
            --primary-magenta: #ff00ff;
            --primary-yellow: #ffff00;
            --dark-bg: #0a0a0f;
            --darker-bg: #050508;
            --grid-color: rgba(0, 255, 255, 0.1);
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --accent-green: #00ff88;
            --accent-red: #ff3366;
            --accent-blue: #00aaff;
        }

        body {
            font-family: 'Orbitron', 'Courier New', monospace;
            background: linear-gradient(135deg, #000000, #1a0033, #000033);
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
        }

        /* Grid Background */
        .grid-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -1;
            animation: gridMove 10s linear infinite;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* Enhanced Header */
        header {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(255, 0, 255, 0.2));
            border-bottom: 2px solid var(--primary-cyan);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 30px rgba(0, 255, 255, 0.3);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 0;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            backdrop-filter: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta), var(--primary-green));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            animation: logoGlow 2s ease-in-out infinite alternate;
        }

        @keyframes logoGlow {
            from { text-shadow: 0 0 20px rgba(0, 255, 255, 0.5); }
            to { text-shadow: 0 0 40px rgba(255, 0, 255, 0.8); }
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        nav a {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 600;
            padding: 0.8rem 1.5rem;
            border: 2px solid transparent;
            border-radius: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        nav a:hover::before {
            left: 100%;
        }

        nav a:hover {
            border-color: var(--primary-cyan);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            transform: translateY(-2px);
        }

        nav a.auth-link {
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta));
            color: var(--dark-bg);
            font-weight: bold;
            border: 1px solid var(--primary-cyan);
        }

        nav a.auth-link:hover {
            background: linear-gradient(45deg, var(--primary-magenta), var(--primary-cyan));
            transform: translateY(-2px);
        }

        nav a.logout-link {
            background: var(--accent-red);
            color: var(--dark-bg);
            font-weight: bold;
            border: 1px solid var(--accent-red);
        }

        nav a.logout-link:hover {
            background: #ff1a4d;
            transform: translateY(-2px);
        }

        nav a.xtc-nav-link {
            background: linear-gradient(45deg, var(--primary-purple), var(--primary-blue));
            color: #fff;
            font-weight: bold;
            border: 1px solid var(--primary-purple);
            font-family: 'Nosifer', cursive;
            letter-spacing: 2px;
        }

        nav a.xtc-nav-link:hover {
            background: linear-gradient(45deg, var(--primary-blue), var(--primary-purple));
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(180, 0, 255, 0.5);
        }

        /* Main Content */
        main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 8rem 2rem 2rem;
            position: relative;
            z-index: 10;
        }

        /* Enhanced Hero Section */
        .hero {
            text-align: center;
            padding: 4rem 2rem;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
            border: 2px solid var(--primary-cyan);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-cyan), var(--primary-magenta), var(--primary-green));
            animation: borderGlow 3s linear infinite;
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .hero h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem;
            font-weight: 900;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta), var(--primary-green), var(--primary-yellow));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: textGlow 3s ease-in-out infinite alternate;
            position: relative;
            z-index: 1;
        }

        @keyframes textGlow {
            from { text-shadow: 0 0 20px rgba(0, 255, 255, 0.5); }
            to { text-shadow: 0 0 30px rgba(255, 0, 255, 0.8); }
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
        }

        /* Enhanced Hero Content */
        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 3rem;
            letter-spacing: 1px;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(255, 0, 255, 0.2));
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .stat-card:hover::before {
            left: 100%;
        }

        .stat-card:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0, 255, 255, 0.4);
            border-color: var(--primary-magenta);
        }

        .stat-card i {
            font-size: 2.5rem;
            color: var(--primary-cyan);
            margin-bottom: 1rem;
            display: block;
            animation: iconPulse 2s ease-in-out infinite;
        }

        @keyframes iconPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .stat-number {
            display: block;
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 600;
        }

        .hero-actions {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 3rem;
        }

        .hero-btn {
            padding: 1.2rem 2.5rem;
            border: none;
            border-radius: 15px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .hero-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .hero-btn:hover::before {
            left: 100%;
        }

        .hero-btn.primary {
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta), var(--primary-green));
            color: var(--dark-bg);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.4);
        }

        .hero-btn.primary:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 50px rgba(0, 255, 255, 0.6);
        }

        .hero-btn.secondary {
            background: linear-gradient(45deg, var(--primary-purple), var(--primary-blue));
            color: #fff;
            box-shadow: 0 10px 30px rgba(180, 0, 255, 0.4);
        }

        .hero-btn.secondary:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 50px rgba(180, 0, 255, 0.6);
        }

        .hero-btn i {
            font-size: 1.2rem;
        }

        .loading-animation {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 1;
        }

        .loading-bar {
            width: 200px;
            height: 4px;
            background: rgba(0, 255, 255, 0.2);
            border-radius: 2px;
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
        }

        .loading-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--primary-cyan), transparent);
            animation: loadingMove 2s linear infinite;
        }

        @keyframes loadingMove {
            from { left: -100%; }
            to { left: 100%; }
        }

        .loading-text {
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: textFlicker 2s ease-in-out infinite;
        }

        .fun-emoji {
            position: absolute;
            top: 1rem;
            right: 2rem;
            font-size: 2rem;
            animation: emojiBounce 2s ease-in-out infinite;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .fun-emoji:hover {
            transform: scale(1.3) rotate(10deg);
        }

        @keyframes emojiBounce {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(-5deg); }
            50% { transform: translateY(0) rotate(5deg); }
            75% { transform: translateY(-5px) rotate(-3deg); }
        }

        /* Floating Elements */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-element {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.6;
            animation: floatAround 20s linear infinite;
        }

        .floating-element:nth-child(1) {
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .floating-element:nth-child(2) {
            top: 20%;
            right: 15%;
            animation-delay: 5s;
        }

        .floating-element:nth-child(3) {
            bottom: 30%;
            left: 20%;
            animation-delay: 10s;
        }

        .floating-element:nth-child(4) {
            bottom: 10%;
            right: 25%;
            animation-delay: 15s;
        }

        @keyframes floatAround {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(100px, 50px) rotate(90deg); }
            50% { transform: translate(50px, 100px) rotate(180deg); }
            75% { transform: translate(-50px, 50px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        @keyframes textFlicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Enhanced Roster Styles */
        .roster-section {
            margin-top: 3rem;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(255, 0, 255, 0.05));
            border: 2px solid var(--primary-cyan);
            border-radius: 20px;
            padding: 3rem;
            backdrop-filter: none;
            position: relative;
            overflow: hidden;
        }

        .roster-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-cyan), var(--primary-magenta), var(--primary-green));
            animation: borderGlow 3s linear infinite;
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .roster-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-cyan);
            text-align: center;
            margin-bottom: 3rem;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            position: relative;
        }

        .roster-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-cyan), var(--primary-magenta));
            border-radius: 2px;
        }

        .roster-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .roster-item {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(0, 255, 255, 0.1));
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 15px;
            padding: 2rem;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .roster-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .roster-item:hover::before {
            left: 100%;
        }

        .roster-item:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 255, 255, 0.4);
            border-color: var(--primary-magenta);
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.6), rgba(255, 0, 255, 0.2));
        }

        .roster-avatar {
            font-size: 3rem;
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta), var(--primary-green));
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.5);
            animation: avatarPulse 3s ease-in-out infinite;
        }

        @keyframes avatarPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .roster-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .roster-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--text-primary);
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }

        .roster-status {
            font-size: 0.9rem;
            font-weight: bold;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            text-align: center;
            width: fit-content;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .roster-status::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: statusShine 3s linear infinite;
        }

        @keyframes statusShine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .roster-status.admin {
            background: linear-gradient(45deg, var(--accent-red), #ff6699);
            color: var(--dark-bg);
            box-shadow: 0 4px 15px rgba(255, 51, 102, 0.4);
        }

        .roster-status.active {
            background: linear-gradient(45deg, var(--accent-green), #66ff99);
            color: var(--dark-bg);
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.4);
        }

        .roster-status.offline {
            background: linear-gradient(45deg, var(--text-secondary), #cccccc);
            color: var(--dark-bg);
            box-shadow: 0 4px 15px rgba(160, 160, 160, 0.4);
        }

        .roster-actions {
            display: flex;
            gap: 0.8rem;
        }

        .roster-btn {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(45deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
            border: 2px solid var(--primary-cyan);
            border-radius: 10px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .roster-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .roster-btn:hover::before {
            left: 100%;
        }

        .roster-btn:hover {
            background: linear-gradient(45deg, rgba(0, 255, 255, 0.2), rgba(255, 0, 255, 0.2));
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.4);
            border-color: var(--primary-magenta);
        }

        .roster-controls {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        .roster-control-btn {
            padding: 1rem 2rem;
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta), var(--primary-green));
            border: none;
            border-radius: 15px;
            color: var(--dark-bg);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        .roster-control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .roster-control-btn:hover::before {
            left: 100%;
        }

        .roster-control-btn:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 255, 255, 0.6);
        }

        /* Enhanced Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: none;
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1), rgba(0, 255, 136, 0.1));
            border: 2px solid var(--primary-cyan);
            border-radius: 20px;
            padding: 3rem;
            max-width: 500px;
            width: 90%;
            position: relative;
            animation: modalSlideIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 20px 60px rgba(0, 255, 255, 0.4);
            backdrop-filter: none;
        }

        .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-cyan), var(--primary-magenta), var(--primary-green));
            border-radius: 20px 20px 0 0;
            animation: modalBorderGlow 2s linear infinite;
        }

        @keyframes modalBorderGlow {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .modal-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }

        .modal-subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
            letter-spacing: 1px;
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: linear-gradient(45deg, var(--accent-red), #ff6699);
            border: none;
            color: var(--dark-bg);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .modal-close:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(255, 51, 102, 0.5);
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .auth-input {
            padding: 1.2rem;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(255, 0, 255, 0.05));
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 15px;
            color: var(--text-primary);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            position: relative;
        }

        .auth-input:focus {
            outline: none;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
            border-color: var(--primary-cyan);
            transform: translateY(-2px);
        }

        .auth-input::placeholder {
            color: var(--text-secondary);
            letter-spacing: 1px;
        }

        .auth-btn {
            padding: 1.2rem;
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta), var(--primary-green));
            border: none;
            border-radius: 15px;
            color: var(--dark-bg);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        .auth-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .auth-btn:hover::before {
            left: 100%;
        }

        .auth-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 255, 255, 0.6);
        }

        .auth-switch {
            text-align: center;
            margin-top: 1.5rem;
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .auth-switch a {
            color: var(--primary-cyan);
            text-decoration: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
        }

        .auth-switch a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-cyan);
            transition: width 0.3s ease;
        }

        .auth-switch a:hover::after {
            width: 100%;
        }

        /* Auth Tabs */
        .auth-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid rgba(0, 255, 255, 0.3);
            padding-bottom: 1rem;
        }

        /* Dashboard Styles */
        .dashboard {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(255, 0, 255, 0.05));
            border: 1px solid var(--primary-cyan);
            border-radius: 10px;
            padding: 2rem;
            backdrop-filter: none;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

.dashboard-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.dashboard-section {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 10px;
    padding: 1.5rem;
}

.admin-badge {
    background: var(--accent-red);
    color: var(--dark-bg);
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: bold;
    display: none; /* Hidden by default, only shown to admins */
}

        .dashboard-section h3 {
            color: var(--primary-cyan);
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .action-buttons, .admin-controls {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .dashboard-btn, .admin-btn {
            width: 100%;
            padding: 0.8rem;
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid var(--primary-cyan);
            border-radius: 5px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .dashboard-btn:hover, .admin-btn:hover {
            background: rgba(0, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .admin-btn.danger {
            border-color: var(--accent-red);
            background: rgba(255, 51, 102, 0.1);
        }

        .admin-btn.danger:hover {
            background: rgba(255, 51, 102, 0.2);
        }

        .status-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(0, 255, 255, 0.1);
        }

        .status-label {
            color: var(--text-secondary);
        }

        .status-value {
            color: var(--accent-green);
            font-weight: bold;
        }

        .status-value.online {
            color: var(--accent-green);
        }

        .dashboard-footer {
            margin-top: 2rem;
            text-align: center;
            padding-top: 1rem;
            border-top: 1px solid rgba(0, 255, 255, 0.2);
        }

        .logout-btn {
            padding: 0.8rem 2rem;
            background: var(--accent-red);
            border: none;
            border-radius: 5px;
            color: var(--dark-bg);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logout-btn:hover {
            background: #ff1a4d;
            transform: translateY(-2px);
        }

        .icon {
            font-style: normal;
        }

        /* Chat Styles */
        .chat-container {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 10px;
            padding: 1rem;
            height: 400px;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 1rem;
            padding: 0.5rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            max-height: 300px;
        }

        .chat-message {
            margin-bottom: 0.8rem;
            padding: 0.5rem;
            border-radius: 5px;
            animation: fadeIn 0.3s ease-in;
        }

        .chat-message.system {
            background: rgba(0, 255, 255, 0.1);
            border-left: 3px solid var(--primary-cyan);
        }

        .chat-message.user {
            background: rgba(255, 0, 255, 0.1);
            border-left: 3px solid var(--primary-magenta);
        }

        .chat-time {
            font-size: 0.8rem;
            color: var(--text-secondary);
            display: block;
            margin-bottom: 0.3rem;
        }

        .chat-text {
            color: var(--text-primary);
            line-height: 1.4;
        }

        .chat-input-container {
            display: flex;
            gap: 0.5rem;
        }

        .chat-input {
            flex: 1;
            padding: 0.8rem;
            background: rgba(0, 255, 255, 0.05);
            border: 1px solid var(--primary-cyan);
            border-radius: 5px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.9rem;
        }

        .chat-input:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
            background: rgba(0, 255, 255, 0.1);
        }

        .chat-send-btn {
            padding: 0.8rem 1rem;
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta));
            border: none;
            border-radius: 5px;
            color: var(--dark-bg);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chat-send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.4);
        }

        .access-indicator {
            font-size: 0.8rem;
            color: var(--accent-red);
            font-weight: normal;
            margin-left: 0.5rem;
        }

        .chat-login-prompt {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 300px;
            text-align: center;
        }

        .login-message {
            background: rgba(255, 51, 102, 0.1);
            border: 1px solid var(--accent-red);
            border-radius: 10px;
            padding: 2rem;
            max-width: 300px;
        }

        .login-message i {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .login-message p {
            margin: 0.5rem 0;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Admin-only */
        .admin-only {
            border: 1px solid var(--accent-red);
            background: rgba(255, 51, 102, 0.05);
        }

        /* Search Interface */
        .search-interface {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(255, 0, 255, 0.05));
            border: 1px solid var(--primary-cyan);
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
            backdrop-filter: none;
            position: relative;
            overflow: hidden;
        }

        .search-interface::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta), var(--primary-yellow));
            border-radius: 10px;
            z-index: -1;
            animation: borderRotate 3s linear infinite;
        }

        @keyframes borderRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .search-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid rgba(0, 255, 255, 0.3);
            padding-bottom: 1rem;
        }

        .tab {
            padding: 0.5rem 1rem;
            background: transparent;
            border: 1px solid var(--primary-cyan);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .tab.active {
            background: var(--primary-cyan);
            color: var(--dark-bg);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }

        .tab:hover:not(.active) {
            background: rgba(0, 255, 255, 0.1);
        }

        .search-form {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 300px;
            padding: 1rem;
            background: rgba(0, 255, 255, 0.05);
            border: 1px solid var(--primary-cyan);
            border-radius: 5px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            background: rgba(0, 255, 255, 0.1);
        }

        .search-btn {
            padding: 1rem 2rem;
            background: linear-gradient(45deg, var(--primary-cyan), var(--primary-magenta));
            border: none;
            border-radius: 5px;
            color: var(--dark-bg);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            position: relative;
            overflow: hidden;
        }

        .search-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .search-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.5);
        }

        /* Tools Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .tool-card {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(255, 0, 255, 0.05));
            border: 1px solid var(--primary-cyan);
            border-radius: 10px;
            padding: 2rem;
            backdrop-filter: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .tool-card:hover::before {
            left: 100%;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
            border-color: var(--primary-magenta);
        }

        .tool-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .tool-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary-cyan);
        }

        .tool-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .tool-status {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            background: var(--accent-green);
            color: var(--dark-bg);
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .tool-status.offline {
            background: var(--accent-red);
        }

        /* Data Visualization */
        .data-viz {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(255, 0, 255, 0.05));
            border: 1px solid var(--primary-cyan);
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
            backdrop-filter: none;
        }

        .viz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .viz-title {
            font-size: 1.5rem;
            color: var(--primary-cyan);
        }

        .viz-controls {
            display: flex;
            gap: 1rem;
        }

        .viz-btn {
            padding: 0.5rem 1rem;
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid var(--primary-cyan);
            border-radius: 5px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .viz-btn:hover {
            background: rgba(0, 255, 255, 0.2);
        }

        .viz-content {
            height: 300px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        /* Terminal */
        .terminal {
            background: #000;
            border: 1px solid var(--primary-cyan);
            border-radius: 10px;
            padding: 1rem;
            margin: 2rem 0;
            font-family: 'Courier New', monospace;
            max-height: 400px;
            overflow-y: auto;
        }

        .terminal-line {
            margin: 0.5rem 0;
            display: flex;
            align-items: center;
        }

        .terminal-prompt {
            color: var(--accent-green);
            margin-right: 0.5rem;
        }

        .terminal-command {
            color: var(--primary-cyan);
        }

        .terminal-output {
            color: var(--text-secondary);
            margin-left: 1rem;
        }

        /* Footer */
        footer {
            background: var(--darker-bg);
            border-top: 1px solid var(--primary-cyan);
            padding: 2rem 0;
            margin-top: 4rem;
            text-align: center;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            color: var(--primary-cyan);
            font-weight: bold;
            display: block;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* XTC Roster Styles */
        .xtc-roster {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            font-family: 'Nosifer', cursive;
            z-index: 2000;
            overflow: hidden;
        }

        .xtc-stars, .xtc-stars:after {
            position: fixed;
            top: 0;
            left: 0;
            width: 2px;
            height: 2px;
            background: #b400ff;
            box-shadow: 
                50px 100px #b400ff,
                120px 300px #b400ff,
                400px 200px #b400ff,
                700px 500px #b400ff,
                900px 150px #b400ff,
                1100px 600px #b400ff,
                1400px 300px #b400ff,
                1600px 700px #b400ff;
            animation: xtcFloat 40s linear infinite;
            box-shadow: 0 0 8px #b400ff;
        }

        .xtc-stars:after {
            content: "";
            top: 2000px;
        }

        @keyframes xtcFloat {
            from { transform: translateY(0); }
            to { transform: translateY(-2000px); }
        }

        .xtc-center {
            position: fixed;
            top: 36px;
            left: 50%;
            transform: translateX(-50%);
            color: #b400ff;
            font-size: 64px;
            letter-spacing: 6px;
            text-shadow: 0 0 10px #6a00ff, 0 0 40px rgba(180,0,255,.8);
            animation: xtcFlicker 3.5s infinite;
            z-index: 10;
        }

        @keyframes xtcFlicker {
            0%, 100% { opacity: 1; }
            6% { opacity: .5; }
            8% { opacity: 1; }
            12% { opacity: .3; }
            15% { opacity: 1; }
        }

        .xtc-roster-content {
            position: relative;
            padding: 300px 40px 80px;
            color: #b400ff;
            z-index: 1;
        }

        .roster-controls {
            text-align: center;
            margin-bottom: 2rem;
        }

        .roster-add-btn {
            padding: 1rem 2rem;
            background: linear-gradient(45deg, #b400ff, #6a00ff);
            border: none;
            border-radius: 5px;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Nosifer', cursive;
            letter-spacing: 2px;
            font-size: 1.2rem;
        }

        .roster-add-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(180, 0, 255, 0.5);
        }

        .xtc-roster-title {
            text-align: center;
            letter-spacing: 8px;
            text-shadow: 0 0 20px rgba(180,0,255,.7);
            margin-bottom: 3rem;
        }

        .xtc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 28px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .xtc-card {
            background: rgba(20,0,30,.7);
            border: 1px solid rgba(180,0,255,.4);
            padding: 22px;
            text-align: center;
            box-shadow: 0 0 30px rgba(180,0,255,.6);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .xtc-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 40px rgba(180,0,255,.8);
            border-color: #b400ff;
        }

        .xtc-card img {
            width: 96px;
            height: 96px;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(180,0,255,.9);
            margin-bottom: 1rem;
            object-fit: cover;
        }

        .xtc-card .person-name {
            display: block;
            margin-top: 14px;
            letter-spacing: 4px;
            font-size: 1.2rem;
            font-weight: bold;
            color: #b400ff;
        }

        .xtc-card .person-role {
            display: block;
            margin-top: 8px;
            letter-spacing: 2px;
            font-size: 0.9rem;
            color: #6a00ff;
            font-style: italic;
        }

        .xtc-card .person-description {
            display: block;
            margin-top: 12px;
            font-size: 0.8rem;
            color: rgba(180,0,255,.8);
            line-height: 1.4;
            min-height: 40px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .nav-container {
                flex-direction: column;
                gap: 1rem;
            }

            nav ul {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .search-form {
                flex-direction: column;
            }

            .search-input {
                min-width: 100%;
            }

            .tools-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0, 255, 255, 0.3);
            border-top-color: var(--primary-cyan);
            border-radius: 50%;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
        }

        /* Scanlines Effect */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            opacity: 0.1;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 255, 255, 0.1) 2px,
                rgba(0, 255, 255, 0.1) 4px
            );
        }
    </style>
</head>
<body>
    <!-- Grid Background -->
    <div class="grid-background"></div>
    
    <!-- Particles -->
    <div id="particles"></div>
    
    <!-- Floating Fun Elements -->
    <div class="floating-elements">
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
    </div>
    
    <!-- Scanlines Effect -->
    <div class="scanlines"></div>

    <!-- Enhanced Background -->
    <div class="background-container"></div>
    <div class="grid-background"></div>
    
    <!-- Particles -->
    <div id="particles"></div>

    <!-- Header -->
    <header>
        <nav class="nav-container">
            <div class="logo">SCANORA v2.0</div>
            <ul>
                <li><a href="#home"><i class="fas fa-home"></i> HOME</a></li>
                <li><a href="#tools"><i class="fas fa-tools"></i> TOOLS</a></li>
                <li><a href="#analytics"><i class="fas fa-chart-line"></i> ANALYTICS</a></li>
                <li><a href="#database"><i class="fas fa-database"></i> DATABASE</a></li>
                <li><a href="#about"><i class="fas fa-info-circle"></i> ABOUT</a></li>
                <li><a href="#" onclick="showLoginModal()" class="auth-link"><i class="fas fa-sign-in-alt"></i> LOGIN</a></li>
                <li><a href="#" onclick="showRegisterModal()" class="auth-link"><i class="fas fa-user-plus"></i> REGISTER</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Enhanced Hero Section -->
        <section class="hero" id="home">
            <div class="hero-content">
                <h1>SCANORA v2.0</h1>
                <p class="hero-subtitle">Advanced OSINT Platform  Digital Intelligence  Threat Analysis  Cyber Forensics</p>
                <div class="hero-stats">
                    <div class="stat-card">
                        <i class="fas fa-globe"></i>
                        <span class="stat-number" id="activeScans">2,847,391</span>
                        <span class="stat-label">ACTIVE SCANS</span>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-database"></i>
                        <span class="stat-number" id="dataPoints">1.2B</span>
                        <span class="stat-label">DATA POINTS</span>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-shield-alt"></i>
                        <span class="stat-number" id="threatsDetected">47,823</span>
                        <span class="stat-label">THREATS DETECTED</span>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-server"></i>
                        <span class="stat-number" id="uptime">99.97%</span>
                        <span class="stat-label">SYSTEM UPTIME</span>
                    </div>
                </div>
                <div class="hero-actions">
                    <button class="hero-btn primary" onclick="showLoginModal()">
                        <i class="fas fa-rocket"></i> LAUNCH SYSTEM
                    </button>
                    <button class="hero-btn secondary" onclick="showXTCRoster()" id="heroRosterBtn" style="display: none;">
                        <i class="fas fa-users"></i> TEAM ROSTER
                    </button>
                </div>
            </div>
            <div class="loading-animation">
                <div class="loading-bar"></div>
                <div class="loading-text">SYSTEM INITIALIZING...</div>
                <div class="fun-emoji" id="funEmoji"></div>
            </div>
        </section>

        <!-- Login/Dashboard Interface -->
        <section class="search-interface" id="authSection">
            <div class="auth-tabs" id="authTabs">
                <button class="tab active" id="loginTab" onclick="switchAuthTab('login', event)">LOGIN</button>
                <button class="tab" id="dashboardTab" onclick="switchAuthTab('dashboard', event)" style="display: none;">DASHBOARD</button>
            </div>
            
            <!-- Login Form -->
            <div class="auth-form" id="loginForm">
                <form onsubmit="handleLogin(event)">
                    <input type="text" class="search-input" id="username" placeholder="Username..." required>
                    <input type="password" class="search-input" id="password" placeholder="Password..." required style="margin-top: 1rem;">
                    <button type="submit" class="search-btn">LOGIN</button>
                </form>
            </div>
            
            <!-- Dashboard -->
            <div class="dashboard" id="dashboardContent" style="display: none;">
                <div class="dashboard-header">
                    <h2 class="viz-title">WELCOME TO DASHBOARD</h2>
                    <div class="user-info">
                        <span id="userDisplay">User: tbny</span>
                        <span id="adminBadge" class="admin-badge">ADMIN</span>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <div class="dashboard-section">
                        <h3><i class="fas fa-database"></i> Data Management</h3>
                        <div class="action-buttons">
                            <button class="dashboard-btn" onclick="exportAllData()">
                                <i class="icon"></i> Export All Data
                            </button>
                            <button class="dashboard-btn" onclick="clearAllData()">
                                <i class="icon"></i> Clear All Data
                            </button>
                            <button class="dashboard-btn" onclick="saveUserPreferences()">
                                <i class="icon"></i> Save Preferences
                            </button>
                        </div>
                    </div>
                    
                    <div class="dashboard-section">
                        <h3>Quick Actions</h3>
                        <div class="action-buttons">
                            <button class="dashboard-btn" onclick="startNewScan()">
                                <i class="icon"></i> New Scan
                            </button>
                            <button class="dashboard-btn" onclick="viewHistory()">
                                <i class="icon"></i> Scan History
                            </button>
                            <button class="dashboard-btn" onclick="openSettings()">
                                <i class="icon"></i> Settings
                            </button>
                        </div>
                    </div>
                    
                    <div class="dashboard-section">
                        <h3>System Status</h3>
                        <div class="status-grid">
                            <div class="status-item">
                                <span class="status-label">Database</span>
                                <span class="status-value online">ONLINE</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">API Keys</span>
                                <span class="status-value online">ACTIVE</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">Last Scan</span>
                                <span class="status-value" id="lastScan">Never</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-section" id="chatSection">
                        <h3>Chat <span class="access-indicator" id="chatAccessIndicator">(Login Required)</span></h3>
                        <div class="chat-container" id="chatContainer">
                            <div class="chat-login-prompt" id="chatLoginPrompt">
                                <div class="login-message">
                                    <i class="icon"></i>
                                    <p>You must be logged in to access the chat system.</p>
                                    <p>Please login to communicate with other users.</p>
                                </div>
                            </div>
                            <div class="chat-messages" id="chatMessages" style="display: none;">
                                <div class="chat-message system">
                                    <span class="chat-time">System</span>
                                    <span class="chat-text">Welcome to SCANORA chat! Chat is now available for authenticated users only.</span>
                                </div>
                            </div>
                            <div class="chat-input-container" id="chatInputContainer" style="display: none;">
                                <input type="text" class="chat-input" id="chatInput" placeholder="Type your message..." onkeypress="handleChatKeyPress(event)">
                                <button class="chat-send-btn" onclick="sendChatMessage()">
                                    <i class="icon"></i> Send
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-section admin-only" id="adminSection">
                        <h3>Admin Controls</h3>
                        <div class="admin-controls">
                            <button class="admin-btn" onclick="manageUsers()">
                                <i class="icon"></i> Manage Users
                            </button>
                            <button class="admin-btn" onclick="viewLogs()">
                                <i class="icon"></i> System Logs
                            </button>
                            <button class="admin-btn" onclick="systemConfig()">
                                <i class="icon"></i> System Config
                            </button>
                            <button class="admin-btn danger" onclick="emergencyShutdown()">
                                <i class="icon"></i> Emergency Shutdown
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-footer">
                    <button class="logout-btn" onclick="handleLogout()">
                        <i class="icon"></i> LOGOUT
                    </button>
                </div>
            </div>
        </section>

        <!-- Roster Section -->
        <section class="xtc-roster" id="xtcRoster" style="display: none;">
            <div class="xtc-stars"></div>
            <div class="xtc-center" id="xtcType">ROSTER</div>
            
            <div class="xtc-roster-content">
                <div class="roster-controls">
                    <button class="roster-add-btn" onclick="showAddPersonForm()">+ Add Person</button>
                </div>
                
                <h2 class="xtc-roster-title">TEAM ROSTER</h2>
                <div class="xtc-grid" id="rosterGrid">
                    <!-- Roster members will be added here dynamically -->
                </div>
            </div>
        </section>

        <!-- Tools Grid -->
        <section class="tools-grid" id="tools">
            <div class="tool-card">
                <span class="tool-icon"></span>
                <h3 class="tool-title">DEEP SEARCH</h3>
                <p class="tool-description">Advanced search across multiple databases, social networks, and hidden web sources with AI-powered pattern recognition.</p>
                <span class="tool-status">ACTIVE</span>
            </div>

            <div class="tool-card">
                <span class="tool-icon"></span>
                <h3 class="tool-title">NETWORK MAPPING</h3>
                <p class="tool-description">Real-time network topology discovery, port scanning, and vulnerability assessment with 3D visualization.</p>
                <span class="tool-status">ACTIVE</span>
            </div>

            <div class="tool-card">
                <span class="tool-icon"></span>
                <h3 class="tool-title">DATA CORRELATION</h3>
                <p class="tool-description">Cross-platform data correlation engine that identifies patterns across disparate data sources.</p>
                <span class="tool-status">ACTIVE</span>
            </div>

            <div class="tool-card">
                <span class="tool-icon"></span>
                <h3 class="tool-title">THREAT DETECTION</h3>
                <p class="tool-description">AI-powered threat intelligence system with real-time alerting and predictive analytics.</p>
                <span class="tool-status">ACTIVE</span>
            </div>

            <div class="tool-card">
                <span class="tool-icon"></span>
                <h3 class="tool-title">CRYPTO ANALYSIS</h3>
                <p class="tool-description">Blockchain forensics and cryptocurrency transaction tracking with advanced pattern analysis.</p>
                <span class="tool-status">ACTIVE</span>
            </div>

            <div class="tool-card">
                <span class="tool-icon"></span>
                <h3 class="tool-title">SIGNAL INTEL</h3>
                <p class="tool-description">Radio frequency analysis and signal intelligence gathering with spectrum visualization.</p>
                <span class="tool-status offline">OFFLINE</span>
            </div>
        </section>

        <!-- Data Visualization -->
        <section class="data-viz" id="analytics">
            <div class="viz-header">
                <h2 class="viz-title">REAL-TIME ANALYTICS</h2>
                <div class="viz-controls">
                    <button class="viz-btn" onclick="changeVisualization('network')">NETWORK</button>
                    <button class="viz-btn" onclick="changeVisualization('timeline')">TIMELINE</button>
                    <button class="viz-btn" onclick="changeVisualization('heatmap')">HEATMAP</button>
                </div>
            </div>
            <div class="viz-content" id="vizContent">
                <canvas id="analyticsCanvas"></canvas>
            </div>
        </section>

        <!-- Terminal -->
        <section class="terminal">
            <div class="terminal-line">
                <span class="terminal-prompt">scanora@osint:~$</span>
                <span class="terminal-command">Initializing intelligence protocols...</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-output">[INFO] Network models loaded successfully</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-output">[INFO] Security protocols activated</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-output">[INFO] Monitoring nodes online</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-output">[INFO] Database connections established</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-output">[INFO] Snusbase integration ready</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-prompt">scanora@osint:~$</span>
                <span class="terminal-command" id="terminalCommand">Awaiting command...</span>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number" id="scanCount">2,847,391</span>
                    <span class="stat-label">SCANS COMPLETED</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="dataPoints">1.2B</span>
                    <span class="stat-label">DATA POINTS</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="threatsDetected">47,823</span>
                    <span class="stat-label">THREATS DETECTED</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="uptime">99.97%</span>
                    <span class="stat-label">SYSTEM UPTIME</span>
                </div>
            </div>
            <p>&copy; 2026 NEXUS INTELLIGENCE | OSINT Platform | Classified: TOP SECRET</p>
        </div>
    </footer>

    <section class="section">
        <h2>Join our Discord</h2>
        <p style="color: var(--accent-white); margin-bottom:20px;">
            Join the elite community of cyber intelligence professionals using SCANORA for mission-critical operations.
        </p>
        <a href="https://discord.gg/xtce" target="_blank" class="btn">Join Discord Server</a>
    </section>

    <footer>
        <p>&copy; 2026 SCANORA. All rights reserved. | Classified Intelligence Platform</p>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('loginModal')">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title">LOGIN</h2>
                <p class="modal-subtitle">Access your SCANORA dashboard</p>
            </div>
            <form class="auth-form" onsubmit="handleModalLogin(event)">
                <input type="text" class="auth-input" id="modalUsername" placeholder="Username..." required>
                <input type="password" class="auth-input" id="modalPassword" placeholder="Password..." required>
                <button type="submit" class="auth-btn">LOGIN</button>
            </form>
            <div class="auth-switch">
                Don't have an account? <a onclick="switchToRegister()">Register</a>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('registerModal')">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title">REGISTER</h2>
                <p class="modal-subtitle">Create your SCANORA account</p>
            </div>
            <form class="auth-form" onsubmit="handleRegister(event)">
                <input type="text" class="auth-input" id="regUsername" placeholder="Choose username..." required>
                <input type="email" class="auth-input" id="regEmail" placeholder="Email address..." required>
                <input type="password" class="auth-input" id="regPassword" placeholder="Create password..." required>
                <input type="password" class="auth-input" id="regConfirmPassword" placeholder="Confirm password..." required>
                <button type="submit" class="auth-btn">REGISTER</button>
            </form>
            <div class="auth-switch">
                Already have an account? <a onclick="switchToLogin()">Login</a>
            </div>
        </div>
    </div>

    <!-- Add Person Modal -->
    <div id="addPersonModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('addPersonModal')">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title">ADD PERSON TO ROSTER</h2>
                <p class="modal-subtitle">Create new team member profile</p>
            </div>
            <form class="auth-form" onsubmit="addPersonToRoster(event)">
                <input type="text" class="auth-input" id="personName" placeholder="Name..." required>
                <input type="text" class="auth-input" id="personDescription" placeholder="Description..." required>
                <input type="url" class="auth-input" id="personPfp" placeholder="Profile Picture URL (optional)">
                <input type="text" class="auth-input" id="personRole" placeholder="Role/Title..." required>
                <button type="submit" class="auth-btn">ADD TO ROSTER</button>
            </form>
        </div>
    </div>

    <script>
        // Data Persistence System
        function saveData(key, data) {
            try {
                localStorage.setItem(key, JSON.stringify(data));
                addTerminalOutput(`[STORAGE] Data saved: ${key}`, 'success');
            } catch (error) {
                addTerminalOutput(`[ERROR] Failed to save data: ${error.message}`, 'error');
            }
        }

        function loadData(key) {
            try {
                const data = localStorage.getItem(key);
                return data ? JSON.parse(data) : null;
            } catch (error) {
                addTerminalOutput(`[ERROR] Failed to load data: ${error.message}`, 'error');
                return null;
            }
        }

        function removeData(key) {
            try {
                localStorage.removeItem(key);
                addTerminalOutput(`[STORAGE] Data removed: ${key}`, 'info');
            } catch (error) {
                addTerminalOutput(`[ERROR] Failed to remove data: ${error.message}`, 'error');
            }
        }

        function exportAllData() {
            const allData = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key && !key.startsWith('temp_')) {
                    allData[key] = JSON.parse(localStorage.getItem(key));
                }
            }
            
            const dataStr = JSON.stringify(allData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `scanora_backup_${new Date().toISOString().slice(0, 10)}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            addTerminalOutput('[EXPORT] All data exported successfully', 'success');
        }

        function clearAllData() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required to clear data', 'error');
                return;
            }
            
            if (confirm(' WARNING: This will permanently delete all saved data. Continue?')) {
                localStorage.clear();
                addTerminalOutput('[STORAGE] All data cleared', 'success');
                
                // Reset UI
                location.reload();
            }
        }

        // Save user preferences
        function saveUserPreferences() {
            const preferences = {
                theme: document.body.classList.contains('dark-theme') ? 'dark' : 'light',
                autoSave: true,
                notifications: true,
                lastLogin: new Date().toISOString()
            };
            saveData('userPreferences', preferences);
        }

        // Load user preferences
        function loadUserPreferences() {
            const preferences = loadData('userPreferences');
            if (preferences) {
                addTerminalOutput('[PREFERENCES] User preferences loaded', 'info');
                return preferences;
            }
            return {
                theme: 'dark',
                autoSave: true,
                notifications: true,
                lastLogin: null
            };
        }

        // Save scan history
        function saveScanHistory(scanData) {
            let history = loadData('scanHistory') || [];
            history.unshift({
                ...scanData,
                timestamp: new Date().toISOString(),
                id: Date.now()
            });
            
            // Keep only last 100 scans
            if (history.length > 100) {
                history = history.slice(0, 100);
            }
            
            saveData('scanHistory', history);
            addTerminalOutput('[HISTORY] Scan saved to history', 'success');
        }

        // Save chat messages
        function saveChatMessages(messages) {
            saveData('chatMessages', messages);
            addTerminalOutput('[CHAT] Messages saved', 'info');
        }

        // Save roster data
        function saveRosterData(roster) {
            saveData('teamRoster', roster);
            addTerminalOutput('[ROSTER] Team roster saved', 'success');
        }

        // Initialize data system
        function initializeDataSystem() {
            addTerminalOutput('[STORAGE] Data persistence system initialized', 'success');
            
            // Load saved data
            const preferences = loadUserPreferences();
            const scanHistory = loadData('scanHistory');
            const chatMessages = loadData('chatMessages');
            const roster = loadData('teamRoster');
            
            addTerminalOutput(`[STORAGE] Found ${scanHistory ? scanHistory.length : 0} scan records`, 'info');
            addTerminalOutput(`[STORAGE] Found ${chatMessages ? chatMessages.length : 0} chat messages`, 'info');
            addTerminalOutput(`[STORAGE] Found ${roster ? roster.length : 0} roster members`, 'info');
        }

        // Particle System
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 10 + 's';
                particle.style.animationDuration = (10 + Math.random() * 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Roster System
        let rosterMembers = [];

        function initializeXTC() {
            const el = document.getElementById('xtcType');
            const words = ['ROSTER'];
            let wi = 0, ci = 0, dir = 1;
            
            setInterval(() => {
                el.textContent = words[wi].slice(0, ci);
                ci += dir;
                if (ci > words[wi].length + 4) dir = -1;
                if (ci < 0) { 
                    dir = 1; 
                    wi = (wi + 1) % words.length;
                }
            }, 120);
        }
        
        function showXTCRoster() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required to access roster', 'error');
                return;
            }
            
            document.getElementById('xtcRoster').style.display = 'block';
            initializeXTC();
            loadRosterFromStorage();
            addTerminalOutput('[ROSTER] Team roster system activated', 'success');
        }
        
        function hideXTCRoster() {
            document.getElementById('xtcRoster').style.display = 'none';
            addTerminalOutput('[ROSTER] Team roster system deactivated', 'info');
        }
        
        function showAddPersonForm() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required to add roster members', 'error');
                return;
            }
            
            document.getElementById('addPersonModal').style.display = 'flex';
        }
        
        function addPersonToRoster(event) {
            event.preventDefault();
            
            const name = document.getElementById('personName').value;
            const description = document.getElementById('personDescription').value;
            const pfp = document.getElementById('personPfp').value;
            const role = document.getElementById('personRole').value;
            
            const person = {
                id: Date.now(),
                name: name,
                description: description,
                pfp: pfp || `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=b400ff&color=fff&size=96`,
                role: role
            };
            
            rosterMembers.push(person);
            saveRosterData(rosterMembers);
            renderRoster();
            
            // Clear form and close modal
            document.getElementById('personName').value = '';
            document.getElementById('personDescription').value = '';
            document.getElementById('personPfp').value = '';
            document.getElementById('personRole').value = '';
            closeModal('addPersonModal');
            
            addTerminalOutput(`[ROSTER] Added ${name} to team roster`, 'success');
        }
        
        function renderRoster() {
            const rosterGrid = document.getElementById('rosterGrid');
            rosterGrid.innerHTML = '';
            
            rosterMembers.forEach(person => {
                const card = document.createElement('div');
                card.className = 'xtc-card';
                card.innerHTML = `
                    <img src="${person.pfp}" alt="${person.name}" onerror="this.src='https://ui-avatars.com/api/?name=${encodeURIComponent(person.name)}&background=b400ff&color=fff&size=96'">
                    <span class="person-name">${person.name}</span>
                    <span class="person-role">${person.role}</span>
                    <span class="person-description">${person.description}</span>
                `;
                card.onclick = () => viewPersonDetails(person);
                rosterGrid.appendChild(card);
            });
        }
        
        function viewPersonDetails(person) {
            addTerminalOutput(`[ROSTER] Viewing profile: ${person.name}`, 'info');
            addTerminalOutput(`[ROLE] ${person.role}`, 'info');
            addTerminalOutput(`[DESCRIPTION] ${person.description}`, 'info');
        }
        
        function saveRosterToStorage() {
            localStorage.setItem('teamRoster', JSON.stringify(rosterMembers));
        }
        
        function loadRosterFromStorage() {
            const saved = localStorage.getItem('teamRoster');
            if (saved) {
                rosterMembers = JSON.parse(saved);
                renderRoster();
            }
        }
        
        // Add XTC toggle to navigation
        function addXTCToNav() {
            const navUl = document.querySelector('nav ul');
            const xtcLi = document.createElement('li');
            xtcLi.innerHTML = '<a href="#" onclick="showXTCRoster()" class="xtc-nav-link" id="rosterNavLink">ROSTER</a>';
            navUl.appendChild(xtcLi);
            
            // Hide roster link for non-admins initially
            updateRosterVisibility();
        }
        
        function updateRosterVisibility() {
            const rosterNavLink = document.getElementById('rosterNavLink');
            const heroRosterBtn = document.getElementById('heroRosterBtn');
            
            if (isAdmin) {
                if (rosterNavLink) rosterNavLink.style.display = 'block';
                if (heroRosterBtn) heroRosterBtn.style.display = 'inline-flex';
            } else {
                if (rosterNavLink) rosterNavLink.style.display = 'none';
                if (heroRosterBtn) heroRosterBtn.style.display = 'none';
            }
        }
        
        // Roster System
        function viewRosterProfile(username) {
            addTerminalOutput(`[ROSTER] Viewing profile for: ${username}`, 'info');
            addTerminalOutput(`[INFO] Loading user data...`, 'info');
            
            // Simulate profile data
            setTimeout(() => {
                addTerminalOutput(`[PROFILE] User: ${username}`, 'success');
                addTerminalOutput(`[STATUS] ${username === 'tbny' ? 'Administrator' : 'Agent'}`, 'success');
                addTerminalOutput(`[ACTIVITY] Last seen: ${new Date().toLocaleString()}`, 'info');
                addTerminalOutput(`[PERMISSIONS] ${username === 'tbny' ? 'Full access granted' : 'Standard access'}`, 'info');
            }, 500);
        }
        
        function manageRoster() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required to manage roster', 'error');
                return;
            }
            
            addTerminalOutput('[ROSTER] Opening roster management panel...', 'info');
            addTerminalOutput('[INFO] 4 users currently in roster', 'success');
            addTerminalOutput('[INFO] 3 users online, 1 user offline', 'info');
        }
        
        function addUserToRoster() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required to add users', 'error');
                return;
            }
            
            const newUsername = prompt('Enter username for new roster member:');
            if (newUsername) {
                addTerminalOutput(`[ROSTER] Adding user: ${newUsername}`, 'info');
                
                // Add new user to roster grid
                const rosterGrid = document.querySelector('.roster-grid');
                const newUserItem = document.createElement('div');
                newUserItem.className = 'roster-item';
                newUserItem.innerHTML = `
                    <div class="roster-avatar"></div>
                    <div class="roster-info">
                        <span class="roster-name">${newUsername}</span>
                        <span class="roster-status active">ONLINE</span>
                    </div>
                    <div class="roster-actions">
                        <button class="roster-btn" onclick="viewRosterProfile('${newUsername}')">View</button>
                    </div>
                `;
                rosterGrid.appendChild(newUserItem);
                
                addTerminalOutput(`[SUCCESS] ${newUsername} added to roster`, 'success');
            }
        }
        
        function exportRoster() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required to export roster', 'error');
                return;
            }
            
            addTerminalOutput('[ROSTER] Exporting roster data...', 'info');
            
            // Simulate export
            setTimeout(() => {
                addTerminalOutput('[SUCCESS] Roster exported successfully', 'success');
                addTerminalOutput('[INFO] File: roster_export_' + new Date().toISOString().slice(0,10) + '.json', 'info');
                addTerminalOutput('[INFO] Size: 2.4KB', 'info');
            }, 1000);
        }
        
        // Modal System
        function showLoginModal() {
            document.getElementById('loginModal').classList.add('active');
            addTerminalOutput('[UI] Login modal opened', 'info');
        }
        
        function showRegisterModal() {
            document.getElementById('registerModal').classList.add('active');
            addTerminalOutput('[UI] Register modal opened', 'info');
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            addTerminalOutput(`[UI] ${modalId} closed`, 'info');
        }
        
        function switchToRegister() {
            closeModal('loginModal');
            showRegisterModal();
        }
        
        function switchToLogin() {
            closeModal('registerModal');
            showLoginModal();
        }
        
        function handleModalLogin(event) {
            event.preventDefault();
            const username = document.getElementById('modalUsername').value;
            const password = document.getElementById('modalPassword').value;
            
            addTerminalOutput(`[AUTH] Login attempt for user: ${username}`, 'info');
            
            // Check against registered users first
            const registeredUser = registeredUsers.find(user => 
                user.username === username && 
                user.password === password
            );
            
            if (registeredUser) {
                currentUser = username;
                isAdmin = registeredUser.isAdmin || false;
                
                // Check user permissions
                const hasOSINT = registeredUser.permissions && registeredUser.permissions.includes('osint');
                const hasChat = registeredUser.permissions && registeredUser.permissions.includes('chat');
                const hasDashboard = registeredUser.permissions && registeredUser.permissions.includes('dashboard');
                
                addTerminalOutput('[SUCCESS] Authentication successful', 'success');
                addTerminalOutput(`[PERMS] OSINT: ${hasOSINT}, Chat: ${hasChat}, Dashboard: ${hasDashboard}`, 'info');
                
                // Show admin badge for logged-in admin
                const adminBadge = document.getElementById('adminBadge');
                if (adminBadge && isAdmin) {
                    adminBadge.style.display = 'inline-block';
                }
                
                // Update roster visibility for admins
                updateRosterVisibility();
                
                // Close modal
                closeModal('loginModal');
                
                // Update navigation
                updateNavigationForLoggedInUser();
                
                // Show dashboard
                showDashboard();
                
                // Enable chat based on permissions
                if (hasChat) {
                    enableChat();
                }
                
                return;
            }
            
            // Check hardcoded admin credentials as fallback
            if (username === 'tbny' && password === 'admin123') {
                currentUser = username;
                isAdmin = true;
                
                addTerminalOutput('[SUCCESS] Authentication successful', 'success');
                addTerminalOutput('[INFO] Admin privileges granted', 'success');
                
                // Show admin badge for logged-in admin
                const adminBadge = document.getElementById('adminBadge');
                if (adminBadge) {
                    adminBadge.style.display = 'inline-block';
                }
                
                // Update roster visibility for admins
                updateRosterVisibility();
                
                // Close modal
                closeModal('loginModal');
                
                // Update navigation
                updateNavigationForLoggedInUser();
                
                // Show dashboard
                showDashboard();
                
                // Enable chat
                enableChat();
                
                return;
            }
            
            addTerminalOutput('[ERROR] Invalid username or password', 'error');
            
            // Shake modal on error
            const modalContent = document.querySelector('#loginModal .modal-content');
            if (modalContent) {
                modalContent.style.animation = 'shake 0.5s';
                setTimeout(() => {
                    modalContent.style.animation = '';
                }, 500);
            }
        }
        
        function handleRegister(event) {
            event.preventDefault();
            const username = document.getElementById('regUsername').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            
            addTerminalOutput(`[REG] Registration attempt for user: ${username}`, 'info');
            
            // Validation
            if (password !== confirmPassword) {
                addTerminalOutput('[ERROR] Passwords do not match', 'error');
                return;
            }
            
            if (password.length < 6) {
                addTerminalOutput('[ERROR] Password must be at least 6 characters', 'error');
                return;
            }
            
            if (registeredUsers.find(user => user.username === username)) {
                addTerminalOutput('[ERROR] Username already exists', 'error');
                return;
            }
            
            // Register new user
            const newUser = {
                username: username,
                email: email,
                password: password,
                isAdmin: false,
                registeredAt: new Date().toISOString()
            };
            
            registeredUsers.push(newUser);
            saveData('registeredUsers', registeredUsers);
            
            addTerminalOutput('[SUCCESS] Registration successful', 'success');
            addTerminalOutput('[INFO] Please login with your new credentials', 'info');
            
            // Close register modal and open login modal
            closeModal('registerModal');
            showLoginModal();
            
            // Clear form
            document.getElementById('regUsername').value = '';
            document.getElementById('regEmail').value = '';
            document.getElementById('regPassword').value = '';
            document.getElementById('regConfirmPassword').value = '';
        }
        
        function updateNavigationForLoggedInUser() {
            const navUl = document.querySelector('nav ul');
            
            // Remove login/register links
            const authLinks = navUl.querySelectorAll('.auth-link');
            authLinks.forEach(link => link.remove());
            
            // Add user menu
            const userLi = document.createElement('li');
            userLi.innerHTML = `<a href="#" class="user-menu">Welcome, ${currentUser} </a>`;
            navUl.appendChild(userLi);
            
            const logoutLi = document.createElement('li');
            logoutLi.innerHTML = `<a href="#" onclick="handleLogout()" class="logout-link">LOGOUT</a>`;
            navUl.appendChild(logoutLi);
        }
        
        function showDashboard() {
            // Check if user has dashboard permission
            const user = registeredUsers.find(u => u.username === currentUser);
            if (!user || !user.permissions.includes('dashboard')) {
                addTerminalOutput('[ERROR] Dashboard access denied - insufficient permissions', 'error');
                return;
            }
            
            // Hide hero section and show dashboard
            document.getElementById('home').style.display = 'none';
            document.getElementById('authSection').style.display = 'block';
            document.getElementById('dashboardContent').style.display = 'block';
            document.getElementById('loginForm').style.display = 'none';
        }
        
        // Handle click outside modal to close
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
                addTerminalOutput('[UI] Modal closed (click outside)', 'info');
            }
        }
        
        // Chat System
        let chatMessages = [];
        let messageCount = 0;
        
        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }
        
        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message === '') return;
            
            const messageObj = {
                username: currentUser || 'Guest',
                message: message,
                timestamp: new Date().toLocaleTimeString(),
                id: messageCount++
            };
            
            chatMessages.push(messageObj);
            displayChatMessage(messageObj);
            saveChatMessages(chatMessages);
            
            input.value = '';
            
            // Simulate other user response
            setTimeout(() => {
                simulateOtherUserMessage();
            }, 2000 + Math.random() * 3000);
            
            addTerminalOutput(`[CHAT] ${currentUser || 'Guest'}: ${message}`, 'info');
        }
        
        function displayChatMessage(messageObj) {
            const chatMessagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${messageObj.username === 'System' ? 'system' : 'user'}`;
            
            const timeSpan = document.createElement('span');
            timeSpan.className = 'chat-time';
            timeSpan.textContent = messageObj.timestamp;
            
            const textSpan = document.createElement('span');
            textSpan.className = 'chat-text';
            textSpan.textContent = `${messageObj.username}: ${messageObj.message}`;
            
            messageDiv.appendChild(timeSpan);
            messageDiv.appendChild(textSpan);
            
            chatMessagesContainer.appendChild(messageDiv);
            chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
        }
        
        function simulateOtherUserMessage() {
            const possibleUsers = ['AgentX', 'CyberNinja', 'Phantom', 'ZeroCool', 'Neo', 'Morpheus', 'Trinity'];
            const possibleMessages = [
                'Anyone running scans on target 192.168.1.1?',
                'Found interesting data point in sector 7',
                'System showing unusual activity patterns',
                'New vulnerability detected in database',
                'Cross-referencing social media accounts',
                'Running deep analysis on recent breach',
                'Network topology mapping complete',
                'AI analysis indicates 87% probability match'
            ];
            
            const randomUser = possibleUsers[Math.floor(Math.random() * possibleUsers.length)];
            const randomMessage = possibleMessages[Math.floor(Math.random() * possibleMessages.length)];
            const timestamp = new Date().toLocaleTimeString();
            
            const messageObj = {
                username: randomUser,
                message: randomMessage,
                timestamp: timestamp,
                id: messageCount++
            };
            
            chatMessages.push(messageObj);
            displayChatMessage(messageObj);
            
            addTerminalOutput(`[CHAT] ${randomUser}: ${randomMessage}`, 'info');
        }
        let registeredUsers = []; // Store registered users
        
        function switchAuthTab(tabName, event) {
            const tabs = document.querySelectorAll('.auth-tabs .tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            if (event && event.target) {
                event.target.classList.add('active');
            }
            
            const loginForm = document.getElementById('loginForm');
            const dashboardContent = document.getElementById('dashboardContent');
            
            if (tabName === 'login') {
                loginForm.style.display = 'block';
                dashboardContent.style.display = 'none';
            } else if (tabName === 'dashboard') {
                loginForm.style.display = 'none';
                dashboardContent.style.display = 'block';
            }
        }
        
        function handleLogin(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Add terminal output
            addTerminalOutput(`[AUTH] Login attempt for user: ${username}`, 'info');
            
            // Simple authentication (in real app, this would be server-side)
            if (username === 'tbny' && password === 'admin123') {
                currentUser = username;
                isAdmin = true;
                
                addTerminalOutput('[SUCCESS] Authentication successful', 'success');
                addTerminalOutput('[INFO] Admin privileges granted', 'success');
                
                // Show admin badge for logged-in admin
                const adminBadge = document.getElementById('adminBadge');
                if (adminBadge) {
                    adminBadge.style.display = 'inline-block';
                }
                
                // Switch to dashboard
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('dashboardContent').style.display = 'block';
                document.getElementById('loginTab').style.display = 'none';
                document.getElementById('dashboardTab').style.display = 'block';
                document.getElementById('dashboardTab').classList.add('active');
                
                // Enable chat
                enableChat();
                
                // Update last scan time
                document.getElementById('lastScan').textContent = new Date().toLocaleString();
                
            } else {
                addTerminalOutput('[ERROR] Invalid credentials', 'error');
                // Shake animation for login form
                const loginForm = document.getElementById('loginForm');
                loginForm.style.animation = 'shake 0.5s';
                setTimeout(() => {
                    loginForm.style.animation = '';
                }, 500);
            }
        }
        
        function enableChat() {
            if (!currentUser) {
                addTerminalOutput('[ERROR] Must be logged in to access chat', 'error');
                return;
            }
            
            // Check if user has chat permission
            const user = registeredUsers.find(u => u.username === currentUser);
            if (!user || !user.permissions.includes('chat')) {
                addTerminalOutput('[ERROR] Chat access denied - insufficient permissions', 'error');
                return;
            }
            
            document.getElementById('chatLoginPrompt').style.display = 'none';
            document.getElementById('chatMessages').style.display = 'block';
            document.getElementById('chatInputContainer').style.display = 'flex';
            document.getElementById('chatAccessIndicator').textContent = '(Active)';
            document.getElementById('chatAccessIndicator').style.color = 'var(--accent-green)';
            
            // Initialize chat with welcome message
            initializeChat();
        }
        
        function disableChat() {
            document.getElementById('chatLoginPrompt').style.display = 'flex';
            document.getElementById('chatMessages').style.display = 'none';
            document.getElementById('chatInputContainer').style.display = 'none';
            document.getElementById('chatAccessIndicator').textContent = '(Login Required)';
            document.getElementById('chatAccessIndicator').style.color = 'var(--accent-red)';
        }
        
        function handleLogout() {
            addTerminalOutput('[AUTH] User logging out...', 'info');
            
            currentUser = null;
            isAdmin = false;
            
            // Hide admin badge on logout
            const adminBadge = document.getElementById('adminBadge');
            if (adminBadge) {
                adminBadge.style.display = 'none';
            }
            
            // Hide roster link on logout
            updateRosterVisibility();
            
            // Show hero section again
            document.getElementById('home').style.display = 'block';
            document.getElementById('authSection').style.display = 'none';
            
            // Disable chat
            disableChat();
            
            // Reset navigation
            resetNavigation();
            
            addTerminalOutput('[SUCCESS] Logged out successfully', 'success');
        }
        
        function resetNavigation() {
            const navUl = document.querySelector('nav ul');
            
            // Remove user menu and logout
            const userMenu = navUl.querySelector('.user-menu');
            const logoutLink = navUl.querySelector('.logout-link');
            if (userMenu) userMenu.parentElement.remove();
            if (logoutLink) logoutLink.parentElement.remove();
            
            // Add back login/register links
            const loginLi = document.createElement('li');
            loginLi.innerHTML = '<a href="#" onclick="showLoginModal()" class="auth-link">LOGIN</a>';
            navUl.appendChild(loginLi);
            
            const registerLi = document.createElement('li');
            registerLi.innerHTML = '<a href="#" onclick="showRegisterModal()" class="auth-link">REGISTER</a>';
            navUl.appendChild(registerLi);
        }
        
        // Dashboard Functions
        function startNewScan() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required', 'error');
                return;
            }
            addTerminalOutput('[SCAN] Initiating new scan...', 'info');
            addTerminalOutput('[INFO] Scan parameters loaded', 'success');
        }
        
        function viewHistory() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required', 'error');
                return;
            }
            addTerminalOutput('[HISTORY] Loading scan history...', 'info');
            addTerminalOutput('[INFO] 1,247 scans found in database', 'success');
        }
        
        function openSettings() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required', 'error');
                return;
            }
            addTerminalOutput('[SETTINGS] Opening configuration panel...', 'info');
        }
        
        // Admin Functions
        function manageUsers() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required', 'error');
                return;
            }
            addTerminalOutput('[ADMIN] Opening user management panel...', 'info');
            addTerminalOutput('[INFO] 3 active users in system', 'success');
        }
        
        function viewLogs() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required', 'error');
                return;
            }
            addTerminalOutput('[LOGS] Accessing system logs...', 'info');
            addTerminalOutput('[INFO] Log file size: 2.4MB', 'success');
        }
        
        function systemConfig() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required', 'error');
                return;
            }
            addTerminalOutput('[CONFIG] Opening system configuration...', 'info');
            addTerminalOutput('[WARNING] Modify with caution', 'warning');
        }
        
        function emergencyShutdown() {
            if (!isAdmin) {
                addTerminalOutput('[ERROR] Admin privileges required', 'error');
                return;
            }
            
            if (confirm('EMERGENCY SHUTDOWN\n\nThis will immediately terminate all system processes.\nAre you sure you want to continue?')) {
                addTerminalOutput('[EMERGENCY] Initiating system shutdown...', 'error');
                addTerminalOutput('[CRITICAL] All processes terminated', 'error');
                
                // Simulate shutdown
                setTimeout(() => {
                    document.body.innerHTML = '<div style="text-align: center; margin-top: 20vh; color: #ff3366; font-size: 2rem;">SYSTEM OFFLINE</div>';
                }, 2000);
            }
        }
        
        // Add shake animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-10px); }
                75% { transform: translateX(10px); }
            }
        `;
        document.head.appendChild(style);
        let currentTab = 'person';
        
        function switchTab(tabName, event) {
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            if (event && event.target) {
                event.target.classList.add('active');
            }
            
            currentTab = tabName;
            const searchInput = document.getElementById('searchInput');
            const placeholders = {
                'person': 'Enter name, email, username, or phone...',
                'snusbase': 'Enter email, username, IP, or database query...',
                'domain': 'Enter domain name or IP address...',
                'social': 'Enter social media handle or profile URL...',
                'network': 'Enter IP range or network target...',
                'darkweb': 'Enter dark web address or keyword...'
            };
            
            searchInput.placeholder = placeholders[tabName] || 'Enter target identifier...';
        }

        // Snusbase Database Search
        async function searchSnusbase(term) {
            try {
                // Add terminal output
                addTerminalOutput(`[INFO] Connecting to Snusbase database...`, 'command');
                
                // Simulate API call (in real implementation, this would be actual fetch)
                const response = await fetch(`https://beta.snusbase.com/v2/combo/${encodeURIComponent(term)}`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                addTerminalOutput(`[SUCCESS] Retrieved ${data.result?.length || 0} results from Snusbase`, 'success');
                
                // Process and display results
                if (data.result && data.result.length > 0) {
                    displaySnusbaseResults(data.result);
                } else {
                    addTerminalOutput('[INFO] No results found in database', 'info');
                }
                
                return data;
                
            } catch (error) {
                addTerminalOutput(`[ERROR] Snusbase search failed: ${error.message}`, 'error');
                
                // Fallback to simulated results for demo
                simulateSnusbaseResults(term);
                return null;
            }
        }

        function displaySnusbaseResults(results) {
            const terminal = document.querySelector('.terminal');
            
            results.slice(0, 5).forEach((result, index) => {
                const resultLine = document.createElement('div');
                resultLine.className = 'terminal-line';
                resultLine.innerHTML = `
                    <span class="terminal-output">[RESULT ${index + 1}] ${JSON.stringify(result, null, 2).substring(0, 200)}...</span>
                `;
                terminal.appendChild(resultLine);
            });
            
            terminal.scrollTop = terminal.scrollHeight;
        }

        function simulateSnusbaseResults(term) {
            const terminal = document.querySelector('.terminal');
            
            // Simulate finding results
            addTerminalOutput(`[INFO] Generating analysis for: ${term}`, 'info');
            
            setTimeout(() => {
                addTerminalOutput('[FOUND] Email patterns detected in 3 databases', 'success');
                addTerminalOutput('[FOUND] Username correlations in 7 platforms', 'success');
                addTerminalOutput('[FOUND] IP address linked to 2 known services', 'success');
                addTerminalOutput('[FOUND] Potential data breach exposure detected', 'warning');
            }, 1000);
        }

        function addTerminalOutput(text, type = 'output') {
            const terminal = document.querySelector('.terminal');
            const newLine = document.createElement('div');
            newLine.className = 'terminal-line';
            
            let className = 'terminal-output';
            let prefix = '';
            
            switch(type) {
                case 'command':
                    className = 'terminal-command';
                    prefix = '<span class="terminal-prompt">nexus@osint:~$</span> ';
                    break;
                case 'success':
                    text = `[SUCCESS] ${text}`;
                    break;
                case 'error':
                    text = `[ERROR] ${text}`;
                    break;
                case 'warning':
                    text = `[WARNING] ${text}`;
                    break;
                case 'info':
                    text = `[INFO] ${text}`;
                    break;
            }
            
            newLine.innerHTML = `${prefix}<span class="${className}">${text}</span>`;
            terminal.appendChild(newLine);
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Search Function
        function performSearch(event) {
            event.preventDefault();
            const searchInput = document.getElementById('searchInput');
            const searchTerm = searchInput.value;
            
            // Add terminal output
            addTerminalOutput(`nexus@osint:~$ scan --target="${searchTerm}" --mode="${currentTab}" --deep`, 'command');
            
            // Route to appropriate search function
            if (currentTab === 'snusbase') {
                searchSnusbase(searchTerm);
            } else {
                // Simulate other search types
                setTimeout(() => {
                    addTerminalOutput(`[SCAN] Initiating ${currentTab} deep scan for: ${searchTerm}`, 'info');
                    addTerminalOutput(`[INFO] Analyzing patterns...`, 'info');
                    addTerminalOutput(`[SUCCESS] Analysis complete - threat level: LOW`, 'success');
                }, 500);
            }
            
            searchInput.value = '';
        }

        // Visualization
        function changeVisualization(type) {
            const canvas = document.getElementById('analyticsCanvas');
            if (!canvas) {
                console.error('Canvas not found');
                return;
            }
            
            const ctx = canvas.getContext('2d');
            if (!ctx) {
                console.error('Could not get 2D context');
                return;
            }
            
            // Set canvas size
            canvas.width = canvas.parentElement.offsetWidth;
            canvas.height = 300;
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw different visualizations based on type
            switch(type) {
                case 'network':
                    drawNetworkVisualization(ctx, canvas.width, canvas.height);
                    break;
                case 'timeline':
                    drawTimelineVisualization(ctx, canvas.width, canvas.height);
                    break;
                case 'heatmap':
                    drawHeatmapVisualization(ctx, canvas.width, canvas.height);
                    break;
            }
        }

        function drawNetworkVisualization(ctx, width, height) {
            const nodes = [];
            const connections = [];
            
            // Generate random nodes
            for (let i = 0; i < 20; i++) {
                nodes.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    radius: Math.random() * 5 + 2,
                    color: `hsl(${180 + Math.random() * 60}, 100%, 50%)`
                });
            }
            
            // Draw connections
            ctx.strokeStyle = 'rgba(0, 255, 255, 0.2)';
            ctx.lineWidth = 1;
            
            for (let i = 0; i < nodes.length; i++) {
                for (let j = i + 1; j < nodes.length; j++) {
                    const distance = Math.sqrt(
                        Math.pow(nodes[i].x - nodes[j].x, 2) + 
                        Math.pow(nodes[i].y - nodes[j].y, 2)
                    );
                    
                    if (distance < 150) {
                        ctx.beginPath();
                        ctx.moveTo(nodes[i].x, nodes[i].y);
                        ctx.lineTo(nodes[j].x, nodes[j].y);
                        ctx.stroke();
                    }
                }
            }
            
            // Draw nodes
            nodes.forEach(node => {
                ctx.beginPath();
                ctx.arc(node.x, node.y, node.radius, 0, Math.PI * 2);
                ctx.fillStyle = node.color;
                ctx.fill();
            });
        }

        function drawTimelineVisualization(ctx, width, height) {
            const data = [];
            for (let i = 0; i < 50; i++) {
                data.push(Math.random() * height);
            }
            
            ctx.strokeStyle = '#00ffff';
            ctx.lineWidth = 2;
            
            ctx.beginPath();
            data.forEach((value, index) => {
                const x = (index / (data.length - 1)) * width;
                const y = height - value;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();
            
            // Fill area under curve
            ctx.lineTo(width, height);
            ctx.lineTo(0, height);
            ctx.closePath();
            ctx.fillStyle = 'rgba(0, 255, 255, 0.1)';
            ctx.fill();
        }

        function drawHeatmapVisualization(ctx, width, height) {
            const gridSize = 20;
            const cols = Math.floor(width / gridSize);
            const rows = Math.floor(height / gridSize);
            
            for (let i = 0; i < cols; i++) {
                for (let j = 0; j < rows; j++) {
                    const intensity = Math.random();
                    const hue = 180 - (intensity * 60); // Cyan to red
                    
                    ctx.fillStyle = `hsla(${hue}, 100%, 50%, ${intensity})`;
                    ctx.fillRect(i * gridSize, j * gridSize, gridSize - 1, gridSize - 1);
                }
            }
        }

        // Animated Counter
        function animateCounter(elementId, target, suffix = '') {
            const element = document.getElementById(elementId);
            const duration = 2000;
            const start = 0;
            const increment = target / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                
                if (suffix === 'B') {
                    element.textContent = (current / 1000000000).toFixed(1) + suffix;
                } else if (suffix === '%') {
                    element.textContent = current.toFixed(2) + suffix;
                } else {
                    element.textContent = Math.floor(current).toLocaleString();
                }
            }, 16);
        }

        // Terminal Animation
        function animateTerminal() {
            const commands = [
                'Cross-referencing databases...',
                'Analyzing communication patterns...',
                'Scanning network connections...',
                'Mapping social connections...',
                'Checking data sources...',
                'Identifying security threats...'
            ];
            
            let index = 0;
            const terminalCommand = document.getElementById('terminalCommand');
            
            setInterval(() => {
                terminalCommand.textContent = commands[index % commands.length];
                index++;
            }, 3000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            changeVisualization('network');
            animateTerminal();
            initializeChat();
            addXTCToNav();
            initializeDataSystem();
            
            // Load registered users
            const savedUsers = loadData('registeredUsers');
            if (savedUsers) {
                registeredUsers = savedUsers;
                addTerminalOutput(`[USERS] Loaded ${registeredUsers.length} registered users`, 'info');
            } else {
                // Add default users if none exist
                const defaultUsers = [
                    { username: 'qtn', password: 'CyberNinja2024!', isAdmin: false, email: 'qtn@scanora.com', registeredAt: new Date().toISOString(), permissions: ['osint', 'chat', 'dashboard'] },
                    { username: 'shimmy', password: 'QuantumShield99$', isAdmin: false, email: 'shimmy@scanora.com', registeredAt: new Date().toISOString(), permissions: ['osint', 'chat', 'dashboard'] },
                    { username: 'mar', password: 'NeuralLink2024@', isAdmin: false, email: 'mar@scanora.com', registeredAt: new Date().toISOString(), permissions: ['osint', 'chat', 'dashboard'] }
                ];
                registeredUsers = defaultUsers;
                saveData('registeredUsers', registeredUsers);
                addTerminalOutput(`[USERS] Created ${defaultUsers.length} default users`, 'success');
            }
            
            // Load saved data
            const savedChatMessages = loadData('chatMessages');
            if (savedChatMessages) {
                chatMessages = savedChatMessages;
                messageCount = chatMessages.length;
                // Restore chat display
                savedChatMessages.forEach(msg => displayChatMessage(msg));
            }
            
            const savedRoster = loadData('teamRoster');
            if (savedRoster) {
                rosterMembers = savedRoster;
                renderRoster();
            }
            
            // Make fun emoji interactive
            const funEmoji = document.getElementById('funEmoji');
            const emojis = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];
            let emojiIndex = 0;
            
            funEmoji.addEventListener('click', () => {
                emojiIndex = (emojiIndex + 1) % emojis.length;
                funEmoji.textContent = emojis[emojiIndex];
                funEmoji.style.transform = 'scale(1.5) rotate(360deg)';
                setTimeout(() => {
                    funEmoji.style.transform = 'scale(1) rotate(0deg)';
                }, 300);
            });
            
            // Random emoji changes
            setInterval(() => {
                emojiIndex = (emojiIndex + 1) % emojis.length;
                funEmoji.textContent = emojis[emojiIndex];
            }, 5000);
            
            // Animate counters
            setTimeout(() => {
                animateCounter('activeScans', 2847391);
                animateCounter('dataPoints', 1200000000, 'B');
                animateCounter('threatsDetected', 47823);
                animateCounter('uptime', 99.97, '%');
            }, 500);
            
            // Add smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });

        // Resize handler for canvas
        window.addEventListener('resize', () => {
            changeVisualization('network');
        });
    </script>
</body>
</html>
